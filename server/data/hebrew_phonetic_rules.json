{
  "_meta": {
    "description": "Hebrew phonetic confusion rules for STT correction",
    "version": "1.0",
    "source": "Hebrew linguistics + common STT mistakes + BUILD 186",
    "last_updated": "2025-12"
  },
  "prefixes": {
    "city": ["בית ", "בת ", "בן ", "כפר ", "נהר ", "גבעת ", "רמת ", "קריית ", "קרית ", "נווה ", "מעלה ", "מצפה ", "תל ", "ראש ", "עין ", "מושב ", "קיבוץ ", "יישוב ", "מועצה ", "הר "],
    "name": ["בן ", "בר ", "אל ", "אבו ", "אבן "]
  },
  "common_confusions": {
    "ש": ["ס", "צ"],
    "ס": ["ש", "צ"],
    "צ": ["ס", "ש"],
    "מ": ["נ"],
    "נ": ["מ"],
    "ב": ["פ", "ו"],
    "פ": ["ב"],
    "כ": ["ח", "ק"],
    "ח": ["כ", "ה"],
    "ק": ["כ", "ג"],
    "ת": ["ט", "ד"],
    "ט": ["ת", "ד"],
    "ד": ["ת", "ט"],
    "ג": ["כ", "ק"],
    "ע": ["א"],
    "א": ["ע", "ה"],
    "ה": ["א", "ח"],
    "ו": ["ב", "או"],
    "י": ["אי", "יי"],
    "ר": ["ל"],
    "ל": ["ר"]
  },
  "ending_patterns": {
    "אל": {
      "variants": ["על", "אלי", "אלף", "אאל", "אעל"],
      "examples": ["מיכאל", "גבריאל", "דניאל", "רפאל", "שמואל"]
    },
    "יאל": {
      "variants": ["יעל", "יאלי", "יאאל", "יל"],
      "examples": ["צוריאל", "אוריאל", "אליאל", "עזריאל"]
    },
    "אלי": {
      "variants": ["עלי", "אאלי", "לי"],
      "examples": ["נתנאלי", "שמואלי", "מיכאלי"]
    },
    "ריאל": {
      "variants": ["ריעל", "ריל", "רעל"],
      "examples": ["אריאל", "גבריאל"]
    },
    "ון": {
      "variants": ["אן", "וון", "ונן"],
      "examples": ["דורון", "ירון", "שרון", "אהרון"]
    },
    "ית": {
      "variants": ["את", "יית", "ת"],
      "examples": ["חגית", "רונית", "שרית", "גלית"]
    },
    "יה": {
      "variants": ["יא", "ייה", "ה"],
      "examples": ["טליה", "גליה", "הודיה", "זכריה"]
    }
  },
  "city_specific_rules": {
    "בית שמש": {
      "never_confuse_with": ["מצפה רמון", "בית שאן", "בת ים"],
      "phonetic_anchors": ["שמש", "BZDMZ"],
      "min_distance": 15
    },
    "בית שאן": {
      "never_confuse_with": ["בית שמש", "בית דגן", "בת ים"],
      "phonetic_anchors": ["שאן", "BZDZAN"],
      "min_distance": 12
    },
    "בת ים": {
      "never_confuse_with": ["בית שמש", "בית שאן", "בית דגן"],
      "phonetic_anchors": ["ים", "BDYM"],
      "min_distance": 10
    },
    "מצפה רמון": {
      "never_confuse_with": ["בית שמש", "ראשון לציון"],
      "phonetic_anchors": ["רמון", "MZBARMN"],
      "min_distance": 20
    }
  },
  "big_jump_cities": {
    "description": "City pairs that should NEVER be auto-corrected to each other",
    "pairs": [
      ["בית שמש", "מצפה רמון"],
      ["בית שמש", "בית שאן"],
      ["תל אביב", "טבריה"],
      ["חיפה", "אילת"],
      ["ירושלים", "ירוחם"],
      ["ראשון לציון", "ראש פינה"],
      ["פתח תקווה", "פקיעין"],
      ["באר שבע", "ביתר עילית"]
    ]
  },
  "stt_hallucination_patterns": {
    "description": "Known STT patterns that cause false transcriptions",
    "patterns": [
      {"trigger": "בית ש", "false_outputs": ["מצפה", "בית"], "correct_wait": true},
      {"trigger": "צורי", "false_outputs": ["צורה", "צור"], "correct_wait": true},
      {"trigger": "מיכא", "false_outputs": ["מיכה", "מיקה"], "correct_wait": true}
    ]
  },
  "confidence_thresholds": {
    "auto_accept": 0.90,
    "confirm_band_min": 0.82,
    "confirm_band_max": 0.90,
    "reject_below": 0.82,
    "lock_after_confirmations": 2
  },
  "big_jump_threshold": {
    "description": "If phonetic distance exceeds this value between current and proposed value, require explicit confirmation",
    "value": 15,
    "additional_check": "AND candidate must not be in never_confuse_with list"
  }
}
