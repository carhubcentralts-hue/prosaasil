××¦×•×™×Ÿ! ×”× ×” **×”×•×“×¢×” ××¢×•×“×›× ×ª ×•××§×™×¤×” ×©××ª×” ×™×›×•×œ ×œ×©×œ×•×— ×œ×¡×•×›×Ÿ AI ×©×œ×š** â€” ×›×•×œ×œ ×›×œ ×”×”×ª×§× ×•×ª ×”×“×¨×•×©×•×ª, ×˜×™×¤×•×œ ×‘Ö¾`.env` ××• `Secrets`, ×•×’× ×•×•×™×“×•× ×©×”××¢×¨×›×ª ×©×œ×š ×ª×¢×‘×•×“ ×—×œ×§ ×¢× GPT, Whisper, TTS, Twilio ×•Ö¾WhatsApp (Node + Python):

---

## âœ… Full Setup Instructions for AgentLocator â€“ All Installations + Secrets Handling

Please follow these instructions **step-by-step** to ensure the system runs correctly. This includes installing all required dependencies for both **Node.js (WhatsApp)** and **Python (Flask backend)** â€” and correctly handling environment variables.

---

### ğŸŸ© 1. Node.js Setup (WhatsApp â€“ Baileys)

ğŸ“ Go to the project folder with the `package.json` file.

#### Step 1: Install all dependencies

```bash
npm install
```

#### Step 2: Run the WhatsApp bot

```bash
npm run dev
```

âœ… This should open a QR code in the terminal.

---

### ğŸ§  Additional Notes:

* If you see errors like `MODULE_NOT FOUND`, you might need to manually install:

```bash
npm install qrcode-terminal
```

* Optional dev tools:

```bash
npm install --save-dev nodemon concurrently
```

---

### ğŸŸ¦ 2. Python Setup (Flask Backend â€“ CRM, GPT, Whisper, Twilio)

Make sure you're working inside a virtual environment:

```bash
python3 -m venv venv
source venv/bin/activate  # On Mac/Linux
venv\Scripts\activate     # On Windows
```

Then install all required libraries:

```bash
pip install Flask Flask-Login Flask-SQLAlchemy Flask-Migrate requests openai gtts python-dotenv twilio torch git+https://github.com/openai/whisper.git pydub
```

---

### ğŸ“„ If youâ€™re on Replit or using â€œSecretsâ€:

âœ… You do **not need to create a `.env` file** â€” just make sure these variables exist in your Secrets panel:

```
SESSION_SECRET=...
OPENAI_API_KEY=...
TWILIO_AUTH_TOKEN=...
TWILIO_ACCOUNT_SID=...
TWILIO_PHONE_NUMBER=+1234567890
WHISPER_MODEL_SIZE=base
```

> In Python code, just make sure you use:

```python
import os

api_key = os.environ["OPENAI_API_KEY"]
```

Optional (but safe) in dev mode:

```python
from dotenv import load_dotenv
load_dotenv()
```

---

### ğŸ›  Required Python Tools:

```bash
pip install pytest
pip install python-dotenv
```

Optional (for audio processing):

```bash
brew install ffmpeg  # On Mac
sudo apt install ffmpeg  # On Linux
```

---

### ğŸŸ¨ 3. Database Initialization (Flask + SQLAlchemy)

```bash
flask db init
flask db migrate
flask db upgrade
```

Make sure:

* You have `models.py`
* You call `db.create_all()` somewhere on startup
* Database URI is loaded from environment:

```python
app.config["SQLALCHEMY_DATABASE_URI"] = os.environ["DATABASE_URL"]
```

---

### âœ… 4. Verify the Following Work

| Module        | Test                                                    |
| ------------- | ------------------------------------------------------- |
| `npm run dev` | WhatsApp client runs and QR is shown                    |
| `flask run`   | Flask backend starts without errors                     |
| GPT           | You get a response from `/api/ask_gpt`                  |
| Whisper       | You get transcript from uploaded audio                  |
| TTS           | You can generate speech audio                           |
| Twilio        | `/handle_recording` responds to webhook correctly       |
| CRM           | `/crm` and `/crm/customer/<id>` load with customer data |

---

âœ… Once all is working, confirm with:

```bash
python -c "import whisper; print('Whisper loaded')"
```

and

```bash
curl http://localhost:5000  # or your actual server port
```

---

ğŸ§  Let me know once everything is installed and working â€” Iâ€™ll help you test full Twilio/WhatsApp/CRM flows and build the UI next.

---

×¨×•×¦×” ×©××›×™×Ÿ ×œ×š ×’× ×ª×‘× ×™×ª `requirements.txt` ××•×›× ×” ××• ×¡×§×¨×™×¤×˜ ×”×ª×§× ×” ××•×˜×•××˜×™?
×ª×’×™×“ ×œ×™ "×›×Ÿ, ×ª×‘× ×” requirements.txt" â€” ×•××›×™×Ÿ ×œ×š ××™×™×“×™×ª.
