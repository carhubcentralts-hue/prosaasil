prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ××¦×˜×¢×¨, ×× ×—× ×• ×›×¨×’×¢ ×œ× ×ª×•××›×™× ×‘×¢×™×¨ ×§×¨×™×™×ª ×©××•× ×”. ×ª×•×“×” ×•×™×•× ×˜×•×‘.
prosaas-backend  | âš ï¸ [LOOP GUARD] Triggered by consecutive_responses!
prosaas-backend  | ğŸ›‘ [LOOP GUARD] BLOCKING further responses until user speaks!
prosaas-backend  | ğŸ›‘ [LOOP GUARD] Cleared TX queue
prosaas-backend  | ğŸ›‘ [LOOP GUARD] Sent clear to Twilio
prosaas-backend  | ğŸ’° [COST] AI utterance: 1.54s (69 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '××¦×˜×¢×¨, ×× ×—× ×• ×›×¨×’×¢ ×œ× ×ª×•××›×™× ×‘×¢...'
prosaas-backend  | [POLITE CLOSING] Detected: '×™×•× ×˜×•×‘'
prosaas-backend  | âœ… [HANGUP BUILD 176] AI said goodbye with auto_end_on_goodbye=True + user interaction - disconnecting
prosaas-backend  | ğŸ“ [STATE] Transitioning ACTIVE â†’ CLOSING (reason: ai_goodbye_auto_end)
prosaas-backend  | ğŸ“ [BUILD 163] Pending hangup set - will disconnect after audio finishes playing
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ”‡ [SERVER_EVENT] Sent SILENTLY to AI: [SERVER] ×–×™×”×™×ª×™ ×©××ª×” ×—×•×–×¨ ×¢×œ ×¢×¦××š. ×××•×¨: '×œ× ×©××¢×ª×™ ×˜×•×‘, ××¤×©×¨ ×œ×—×–×•×¨?' ×•×ª××ª×™×Ÿ ×‘×©×§×˜.
prosaas-backend  | ğŸ›‘ [LOOP GUARD] Blocking response.create (engaged=True, consecutive=5)
prosaas-backend  | â³ [POLITE HANGUP] Starting wait for audio to finish...
prosaas-backend  | âœ… [POLITE HANGUP] OpenAI queue empty after 0ms
prosaas-backend  | â³ [POLITE HANGUP] TX queue still has 1 frames...
prosaas-backend  | ğŸ§¹ TX_CLEAR: SUCCESS
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ¤ END OF UTTERANCE: 5.4s audio, conversation #3
prosaas-backend  | ğŸ§  STATE -> PROCESSING | len=86400 | silence_ms=3054
prosaas-backend  | â­ï¸ [REALTIME] Skipping Google STT/TTS - using Realtime API only
prosaas-backend  | âœ… Processing complete for conversation #3
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=168.0 > threshold=112.9
prosaas-backend  | âœ… [POLITE HANGUP] Twilio TX queue empty after 100ms
prosaas-backend  | â³ [POLITE HANGUP] Queues empty, waiting 2s for network...
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=14, voice_frames=0
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ”‡ [AUDIO GATE] Blocked 1200 frames (rms=9, reason=noise)
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=1269, voice_frames=0
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [BUILD 163] Audio playback complete - triggering polite hangup now
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: AI finished speaking politely)
prosaas-backend  | ğŸ“ [SMART HANGUP] === CALL ENDING ===
prosaas-backend  | ğŸ“ [SMART HANGUP] Reason: AI finished speaking politely
prosaas-backend  | ğŸ“ [SMART HANGUP] Lead captured: False
prosaas-backend  | ğŸ“ [SMART HANGUP] Goodbye detected: True
prosaas-backend  | ğŸ“ [SMART HANGUP] Lead state: {'service_type': '×ª×¨×¦×” ×¢×–×¨×”', 'city': '×§×¨×™×™×ª ×©××•× ×”'}
prosaas-backend  | ğŸ“ [SMART HANGUP] Required fields: ['service_type', 'city']
prosaas-backend  | ğŸ“ [SMART HANGUP] ===================
prosaas-backend  | âœ… [BUILD 163] Call CA6a172b... hung up successfully: AI finished speaking politely
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=18, voice_frames=0
prosaas-backend  | WS_STOP sid=MZ4154908678ed96bbb4e4700624079609 rx=1958 tx=965
prosaas-backend  | ğŸ“ [SES-f88e6e46] CALL ENDED - duration=39.1s, business_id=1, rx=1958, tx=965
prosaas-backend  | ğŸ“¤ [REALTIME] Audio sender ended
prosaas-backend  | ğŸ“ [REALTIME] Text sender ended
prosaas-backend  | ğŸ§¹ Waiting for 5 background threads...
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | STREAM_ENDED call=CA6a172b849ce6f1bc4d3b0ed2c225ec32 stream=N/A status=N/A
prosaas-backend  | INFO:     172.18.0.5:42510 - "POST /webhook/stream_ended HTTP/1.1" 204 No Content
prosaas-backend  | âœ… Found existing recording for CA6a172b849ce6f1bc4d3b0ed2c225ec32: /2010-04-01/Accounts/ACcd09431f076a309088b18ed1f286f32e/Recordings/REd627410c5ee3c8d058661b212a2c1e51.json
prosaas-backend  | INFO:     172.18.0.5:42512 - "POST /webhook/call_status HTTP/1.1" 204 No Content
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | âœ… Recording queued for processing: CA6a172b849ce6f1bc4d3b0ed2c225ec32
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | INFO:     connection closed
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=21, tx_q=0) - retry in 500ms
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaking=False, openai_q=0, tx_q=1) - retry in 500ms
prosaas-backend  | âš ï¸ Background thread 0 still running after timeout
prosaas-backend  | ğŸ“ [STATE] Transitioning to CLOSING (reason: silence_timeout)
prosaas-backend  | ğŸ›¡ï¸ [PROTECTION] Audio still playing (ai_speaki