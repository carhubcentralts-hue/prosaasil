Got it. Here’s a clean, precise, English brief you can hand to your frontend dev to (1) safely remove the current FE, (2) keep the backend intact, and (3) build three pages only (Login + Admin + Business) with a full sidebar (items from your screenshot) and production-grade auth, routing, and mobile/RTL UX.

⸻

✅ Objective

Rebuild the frontend from scratch (SPA) with three pages only now:
	1.	Login (advanced, with “Forgot/Reset password”)
	2.	Admin Home
	3.	Business Home

Show a full sidebar (all entries visible as placeholders) but only these three routes must be functional now. Everything must be mobile-first, RTL, and role-aware. Do not touch the backend beyond small JSON adapters if needed.

⸻

0) Safety – Remove the old FE without touching BE

Do this exactly:
	1.	Create a branch: git checkout -b fe-reset
	2.	Do not touch anything under server/, wsgi.py, DB, or webhooks.
	3.	Keep dist/ as is (Flask will still serve it during the rebuild).
	4.	In the client/ folder:
	•	Delete everything inside client/src/ (only src), plus old FE configs if they clash (old router/components).
	•	Keep package.json, vite.config.ts, tsconfig.json (adjust after scaffold).
	5.	Re-scaffold minimal React+TS app (Vite) inside client/src/ (see structure below).
	6.	Confirm Flask SPA fallback remains (already done in your backend).

If there’s any doubt, move the old client/src/ to client/src__backup/ first, then rebuild client/src/ clean.

⸻

1) Tech Stack & Principles
	•	React + TypeScript + Vite
	•	UI system: Tailwind (fastest to ship, great RTL) or MUI (if you prefer components). Pick one; don’t mix.
	•	Router: React Router (we’ll need guards & nested layouts later).
	•	HTTP: fetch wrapper (cookies) or Axios. Cookies only (no tokens in JS).
	•	RTL: <html dir="rtl">, Hebrew fonts (Heebo/Assistant), numbers LTR where needed.
	•	Mobile-first: breakpoints, collapsible sidebar → bottom nav on XS.

⸻

2) New FE Structure (only the pieces we need now)

client/src/
  app/
    App.tsx              // Providers + Router only (no page logic)
    routes.tsx           // All routes defined here
    layout/
      MainLayout.tsx     // Sidebar + Topbar + <Outlet/>
      AuthGuard.tsx      // Redirects to /login if no session
  pages/
    Auth/
      LoginPage.tsx
      ForgotPasswordPage.tsx
      ResetPasswordPage.tsx
    Admin/
      AdminHomePage.tsx  // KPIs + provider badges
    Business/
      BusinessHomePage.tsx
  features/
    auth/
      api.ts             // /api/auth/login | /api/auth/me | /api/auth/forgot | /api/auth/reset | /api/auth/logout
      hooks.ts           // useAuth(), useLogin()...
      types.ts
  services/
    http.ts              // baseURL, credentials: 'include', JSON helpers, error mapping
  shared/
    components/          // Button, Input, Select, StatCard, Badge, SidebarItem...
    hooks/               // useRTL, useDebounce, useDisclosure
    utils/               // formatPhone, formatDate, cn()
    styles/              // tailwind.css or theme
  types/
    api.ts               // shared response types (see contracts below)

App.tsx must stay thin: Providers (Router, QueryClient if you add it), <MainLayout/>, that’s it.

⸻

3) Sidebar (items from your screenshot)

Sidebar shows all entries now (placeholders OK), but only Admin Home and Business Home must navigate to real pages:
	•	Overview (סקירה כללית) → /app/admin/overview (for admin) or /app/business/overview (for business)
	•	Leads
	•	WhatsApp
	•	Calls
	•	CRM
	•	Payments & Invoices
	•	Business Manager
	•	Users
	•	System Settings
	•	Calendar

Behavior now:
	•	If user is admin/manager → clicking “Overview” goes to /app/admin/overview.
	•	If user is business → goes to /app/business/overview.
	•	Other menu items can show a “Coming soon” placeholder panel (no errors).

Mobile:
	•	Sidebar collapses to a button + bottom nav with top 4: Leads, WhatsApp, Calls, Calendar.

⸻

4) Auth – Production-grade flow (no shortcuts)

Backend expectations (keep as-is or add thin adapters):
	•	POST /api/auth/login body { email, password }
→ 200 sets HttpOnly cookie session and returns { user: {id,email,role,tenant}, tenant: {...} }
	•	GET /api/auth/me
→ 200 with { user, tenant } OR 401 when not authenticated
	•	POST /api/auth/logout → clears cookie
	•	POST /api/auth/forgot body { email }
→ always 200 (don’t leak accounts). Send email with reset link.
	•	POST /api/auth/reset body { token, newPassword }
→ 200 on success, 400/410 if token invalid/expired

Security requirements
	•	Cookies: Secure, HttpOnly, SameSite=Lax
	•	Rate limit login (server): e.g., 5/min/IP, and exponential backoff on failure
	•	Optional bot check: a simple friendly challenge or reCAPTCHA v3 on suspicious patterns
	•	Password policy: min length 10, common password blocklist

Frontend behavior
	•	On app load: call /api/auth/me.
	•	200 → store user in AuthContext, proceed to app.
	•	401 → redirect to /login.
	•	AuthGuard: blocks /app/* when no session and redirects to /login.
	•	Role routing:
	•	After login:
	•	admin|manager → /app/admin/overview
	•	business → /app/business/overview

Login Page (advanced, mobile-first, RTL)
	•	Split screen (brand + form) on desktop; single column on mobile
	•	Fields: Email, Password; “Remember me” optional (server-side long session)
	•	Buttons: Login, “Forgot password?”, “Back to system”
	•	UX details:
	•	Real-time validation, clear error messages (“Incorrect email/password” – generic)
	•	Disable button + spinner during request
	•	Keyboard/Enter submits; focus-first invalid field
	•	Accessible labels, aria-*, error region
	•	On success → fetch /api/auth/me → role redirect
	•	On failure → show toast + field hints

Forgot / Reset
	•	Forgot: email entry → success toast “If the account exists, a reset link was sent”
	•	Reset: page with token param; new password + confirm; strong password meter; submit
	•	Expired/invalid token → show friendly screen with “Resend reset link”

⸻

5) Admin Home & Business Home (what to show now)

Admin Home /app/admin/overview

Above the fold:
	•	Provider status badges: Twilio (inbound/outbound), Baileys (session connected), DB
	•	KPI cards: WhatsApp today, Calls today, Unread, Meetings today
	•	7-day sparkline for WA+Calls combined

APIs used (can be via your adapter):
	•	GET /api/dashboard/stats → { calls:{today,last7d,avgHandleSec}, whatsapp:{today,last7d,unread}, revenue:{thisMonth,ytd} }
	•	GET /api/dashboard/activity → { items:[{ts,type:'whatsapp|call',preview,leadId,provider}] }
	•	GET /api/status → { twilio:{up}, baileys:{up}, db:{up}, latency:{stt,ai,tts} }

Business Home /app/business/overview
	•	Smaller KPI set focused on the single tenant (“שי דירות ומשרדים”):
	•	New leads today, Active leads, Unread, Meetings today
	•	Quick actions: “Open Leads”, “Open WhatsApp”, “Open Calls”, “Open Calendar”
	•	Same provider badges panel

Note: Data contracts may reuse GET /api/dashboard/stats filtered to tenant.

⸻

6) Routing table (now)
	•	Public:
	•	/login → LoginPage
	•	/forgot → ForgotPasswordPage
	•	/reset?token=… → ResetPasswordPage
	•	Protected (AuthGuard):
	•	/app/admin/overview → AdminHomePage (roles: admin|manager)
	•	/app/business/overview → BusinessHomePage (roles: business|manager)
	•	All other items in sidebar → “Coming soon” placeholder (200 + no errors)

Guards
	•	If role mismatch (e.g., business tries /app/admin/...) → redirect to the correct home + toast “Insufficient permissions”.

⸻

7) Visual/UX quality bar (high-end)
	•	Typography: Heebo/Assistant for Hebrew; Inter for numbers/Latin; font-feature-settings for tabular numbers in KPIs.
	•	RTL: global dir="rtl"; LTR wrappers for phone/IDs
	•	Spacing system: 8px grid; consistent padding
	•	Accessibility: focus ring, landmarks (<main role="main">), keyboard traps in dialogs
	•	Motion: subtle transitions (opacity/translate 100–150ms); prefers-reduced-motion respected
	•	Empty states: cards show “No data yet” with CTA instead of blanks
	•	Error states: toast + inline hints; never raw JSON/errors

⸻

8) Contracts (copy-paste for the FE)

(If your BE does not expose them yet, add a thin Adapter to return these exact JSON shapes.)

GET /api/auth/me → 200

{
  "user": {"id": 1, "email": "admin@...", "role": "admin"},
  "tenant": {"id": 10, "name": "שי דירות ומשרדים"}
}

POST /api/auth/login
req: { "email": "...", "password": "..." }
res (200): same as /me and sets session cookie.

POST /api/auth/forgot
req: { "email": "..." }
res: { "ok": true }

POST /api/auth/reset
req: { "token": "...", "newPassword": "..." }
res: { "ok": true }

GET /api/status

{
  "twilio": {"up": true},
  "baileys": {"up": true},
  "db": {"up": true},
  "latency": {"stt": 320, "ai": 900, "tts": 450}
}

GET /api/dashboard/stats

{
  "calls": {"today": 8, "last7d": 52, "avgHandleSec": 132},
  "whatsapp": {"today": 19, "last7d": 141, "unread": 7},
  "revenue": {"thisMonth": 0, "ytd": 0}
}

GET /api/dashboard/activity

{
  "items": [
    {"ts": "2025-09-02T11:22:33Z", "type": "whatsapp", "leadId": 123, "preview": "שלום...", "provider": "baileys"}
  ]
}


⸻

9) Definition of Done (for this phase)
	•	Old FE removed safely; backend untouched and serving.
	•	New SPA with three pages works:
	•	/login, /forgot, /reset
	•	/app/admin/overview (admin/manager)
	•	/app/business/overview (business/manager)
	•	Session flow correct: /api/auth/me gate; AuthGuard; role redirects.
	•	Sidebar shows all items (only three working now). Mobile → bottom nav.
	•	High-quality UX: RTL, mobile-first, accessible, polished states.
	•	No console errors, no 404/HTML responses for API, only JSON.
	•	Health endpoints remain green; webhooks unaffected.

⸻

If you want, I can draft a one-page Figma spec (components, spacings, and interactions) or a task breakdown for your dev to knock this out in tight steps.