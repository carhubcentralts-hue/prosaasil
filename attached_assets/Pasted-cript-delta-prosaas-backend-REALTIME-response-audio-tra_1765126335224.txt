cript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=8, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 6400 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×¢× ××™ ×ª×¨×¦×” ×œ×§×‘×•×¢ ×ª×•×¨? ×™×© ×œ× ×• ××ª ×“× ×™, ××œ×™×¨×Ÿ ×•×¨×•×¢×™.
prosaas-backend  | â­ï¸ [LOOP GUARD] Skipped - appointment flow (has_appointment=None, is_scheduling=True)
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.04s (15 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×¢× ××™ ×ª×¨×¦×” ×œ×§×‘×•×¢ ×ª×•×¨? ×™×© ×œ× ×• ×...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (3ms, frames=0)
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | [PIPELINE STATUS] sent=127 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=157.0 > threshold=73.2
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=96, voice_frames=0
prosaas-backend  | ğŸ” [NLP] â—€ï¸ NLP result: {'action': 'none', 'date': None, 'time': None, 'name': None, 'phone': None, 'confidence': 0.0}
prosaas-backend  | ğŸ“­ [NLP] No appointment action detected (action=none)
prosaas-backend  | [REALTIME] event: input_audio_buffer.speech_started
prosaas-backend  | ğŸ¤ [REALTIME] User started speaking - setting user_has_spoken=True
prosaas-backend  | âœ… [LOOP GUARD] User started speaking - resetting consecutive counter (1 -> 0)
prosaas-backend  | ğŸ¤ [BUILD 166] Noise gate BYPASSED - sending ALL audio to OpenAI
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [REALTIME] event: input_audio_buffer.speech_stopped
prosaas-backend  | ğŸ¤ [BUILD 166] Speech ended - noise gate RE-ENABLED
prosaas-backend  | [REALTIME] event: input_audio_buffer.committed
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCAomV1HqFVPYF...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCAomV1HqFVPYF... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | ğŸ¤ END OF UTTERANCE: 1.2s audio, conversation #1
prosaas-backend  | ğŸ§  STATE -> PROCESSING | len=19520 | silence_ms=506
prosaas-backend  | â­ï¸ [REALTIME] Skipping Google STT/TTS - using Realtime API only
prosaas-backend  | âœ… Processing complete for conversation #1
prosaas-backend  | [REALTIME] event: conversation.item.input_audio_transcription.completed
prosaas-backend  | [STT_RAW] '×”×•× ×™×›×•×œ.' (len=9)
prosaas-backend  | ğŸ’“ WS_KEEPALIVE #1 (prevents 5min timeout)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [SILENCE GATE] âœ… TRUSTED (OpenAI heard '×”×•× ×™×›×•×œ....' despite low RMS=8)
prosaas-backend  | âœ… [SIMPLE_MODE] Bypassing all filters - accepting: '×”×•× ×™×›×•×œ.'
prosaas-backend  | ğŸ“ [SEGMENT MERGE] FLUSH - long pause (3300ms)
prosaas-backend  | [STT_FINAL] '×”×•× ×™×›×•×œ.' (from raw: '×”×•× ×™×›×•×œ....')
prosaas-backend  | ğŸ’° [COST] User utterance: 2.45s (249 chunks total)
prosaas-backend  | ğŸ‘¤ [REALTIME] User said: ×”×•× ×™×›×•×œ.
prosaas-backend  | ğŸ” [DEBUG] Calling NLP after user transcript: '×”×•× ×™×›×•×œ....'
prosaas-backend  | ğŸ” [DEBUG] _check_appointment_confirmation called with transcript: '×”×•× ×™×›×•×œ....'
prosaas-backend  | ğŸ” [DEBUG] Conversation history length: 4
prosaas-backend  | ğŸ” [DEBUG] User messages for hash: ['×ª×—×§×™×¨.', '×”×•× ×™×›×•×œ.']
prosaas-backend  | ğŸ” [DEBUG] Current conversation hash: 4353455a...
prosaas-backend  | ğŸ” [DEBUG] Hash changed (79e9aa43 â†’ 4353455a) - processing
prosaas-backend  | ğŸ” [NLP] âœ… WILL PROCESS new conversation state (hash=4353455a...)
prosaas-backend  | ğŸ” [DEBUG] CRM context exists: False
prosaas-backend  | ğŸ” [NLP] â–¶ï¸ Analyzing conversation for appointment intent...
prosaas-backend  | ğŸ” [NLP] Conversation history has 4 messages
prosaas-backend  | ğŸ” [NLP] Last 3 messages: [{'speaker': 'user', 'text': '×ª×—×§×™×¨.', 'ts': 1765125916.485112}, {'speaker': 'ai', 'text': '×¢× ××™ ×ª×¨×¦×” ×œ×§×‘×•×¢ ×ª×•×¨? ×™×© ×œ× ×• ××ª ×“× ×™, ××œ×™×¨×Ÿ ×•×¨×•×¢×™.', 'ts': 1765125916.53004}, {'speaker': 'user', 'text': '×”×•× ×™×›×•×œ.', 'ts': 1765125919.7854397}]
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×”×•× ×™×›×•×œ....'
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['preferred_time', 'name']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['preferred_time', 'name'] | Collected: []
prosaas-backend  | [SAFETY] Transcription successful (total failures: 0)
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=fd fd fc fd fe
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=be b0 b2 c5 68
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=c9 c0 ca ce d1
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 5336 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 2 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×œ××™×–×” ×ª××¨×™×š ×ª×¨×¦×” ×œ×§×‘×•×¢?
prosaas-backend  | â­ï¸ [LOOP GUARD] Skipped - appointment flow (has_appointment=None, is_scheduling=True)
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.00s (22 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×œ××™×–×” ×ª××¨×™×š ×ª×¨×¦×” ×œ×§×‘×•×¢?...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (3ms, frames=0)
prosaas-backend  | [PIPELINE STATUS] sent=250 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [NLP] â—€ï¸ NLP result: {'action': 'none', 'date': 'null', 'time': 'null', 'name': 'null', 'phone': 'null', 'confidence': 0.0}
prosaas-backend  | ğŸ“­ [NLP] No appointment action detected (action=none)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=137.0 > threshold=73.2
prosaas-backend  | ğŸ¤ END OF UTTERANCE: 0.6s audio, conversation #2
prosaas-backend  | ğŸ§  STATE -> PROCESSING | len=9600 | silence_ms=568
prosaas-backend  | â­ï¸ [REALTIME] Skipping Google STT/TTS - using Realtime API only
prosaas-backend  | âœ… Processing complete for conversation #2
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | [PIPELINE STATUS] sent=400 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | [REALTIME] event: input_audio_buffer.speech_started
prosaas-backend  | ğŸ¤ [REALTIME] User started speaking - setting user_has_spoken=True
prosaas-backend  | âœ… [LOOP GUARD] User started speaking - resetting consecutive counter (1 -> 0)
prosaas-backend  | ğŸ¤ [BUILD 166] Noise gate BYPASSED - sending ALL audio to OpenAI
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=15, voice_frames=0
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=89.0 > threshold=73.2
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=10, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=3465, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=549 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=1466, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ”‡ [SILENCE] Warning 1/2 after 16.6s silence
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['city', 'service_type']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['service_type'] | Collected: ['city=×¦×¤×” ×¨××•×Ÿ']
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (SILENCE_HANDLER:[SYSTEM] ×”×œ×§×•×— ×©×•×ª×§. ×”××©×š ××ª ×”)
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=299.0 > threshold=73.2
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCAxYluxSmFrRM...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCAxYluxSmFrRM... status=in_progress modalities=['text', 'audio'] output_format=g711_ulaw
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=7c 79 7b 7a 77
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=4c 45 47 46 49
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=63 d9 cc fa 49
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=11, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | INFO:     127.0.0.1:47966 - "GET /health HTTP/1.1" 200 OK
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | âš ï¸ [AUDIO GAP] 766ms gap between chunks #5 and #6 - OpenAI delay!
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=968, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | [PIPELINE STATUS] sent=697 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ’“ WS_KEEPALIVE #2 (prevents 5min timeout)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 5336 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×× ×™ ×›××Ÿ ×× ×ª×–×“×§×§ ×œ×¢×–×¨×”. ×× ×ª×•×›×œ ×œ×©×ª×£ ××•×ª×™ ×‘××™×–×• ×¢×™×¨ ××ª×” ×¦×¨×™×š ××ª ×©×™×¨×•×ª ×”×—×œ×¤×ª ×”×¦×™×œ×™× ×“×¨, ×–×” ×™×¢×–×•×¨ ×œ×™ ×œ×¢×–×•×¨ ×œ×š. ×ª×•×“×” ×¨×‘×”.
prosaas-backend  | âš ï¸ [LOOP DETECT] AI repeating! Similarity=73% with: '×”×× ××ª×” ×¢×“×™×™×Ÿ ××™×ª× ×•? ×× ×ª×•×›×œ ×œ×©×ª×£ ××•×ª×™ ×‘××™×–×• ×¢×™×¨ ×...'
prosaas-backend  | ğŸ“¢ [BUILD 311] SILENCE_HANDLER response - NOT counting towards consecutive
prosaas-backend  | ğŸ’° [COST] AI utterance: 2.03s (1357 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×× ×™ ×›××Ÿ ×× ×ª×–×“×§×§ ×œ×¢×–×¨×”. ×× ×ª×•×›...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=3902, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=9, voice_frames=0
prosaas-backend  | [REALTIME] event: input_audio_buffer.speech_stopped
prosaas-backend  | ğŸ¤ [BUILD 166] Speech ended - noise gate RE-ENABLED
prosaas-backend  | [REALTIME] event: input_audio_buffer.committed
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCB1J3HDVbnBdX...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCB1J3HDVbnBdX... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=116.0 > threshold=73.2
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=23, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | [PIPELINE STATUS] sent=848 blocked=0 | active_response=resp_CkCB1J3HDV... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=f9 f7 fb fe 7d
prosaas-backend  | [REALTIME] event: conversation.item.input_audio_transcription.completed
prosaas-backend  | [STT_RAW] '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.' (len=61)
prosaas-backend  | âœ… [SIMPLE_MODE] Bypassing all filters - accepting: '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.'
prosaas-backend  | ğŸ“ [SEGMENT MERGE] FLUSH - long pause (12944ms)
prosaas-backend  | [STT_FINAL] '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.' (from raw: '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ...')
prosaas-backend  | ğŸ’° [COST] User utterance: 12.13s (850 chunks total)
prosaas-backend  | ğŸ‘¤ [REALTIME] User said: ×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.
prosaas-backend  | ğŸ” [DEBUG] Calling NLP after user transcript: '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”×...'
prosaas-backend  | ğŸ” [DEBUG] _check_appointment_confirmation called with transcript: '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”×...'
prosaas-backend  | ğŸ” [DEBUG] Conversation history length: 6
prosaas-backend  | ğŸ” [DEBUG] User messages for hash: ['×ª×—×§×™×¨.', '×”×•× ×™×›×•×œ.', '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.']
prosaas-backend  | ğŸ” [DEBUG] Current conversation hash: 212e9a74...
prosaas-backend  | ğŸ” [DEBUG] Hash changed (4353455a â†’ 212e9a74) - processing
prosaas-backend  | ğŸ” [NLP] âœ… WILL PROCESS new conversation state (hash=212e9a74...)
prosaas-backend  | ğŸ” [DEBUG] CRM context exists: False
prosaas-backend  | ğŸ” [NLP] â–¶ï¸ Analyzing conversation for appointment intent...
prosaas-backend  | ğŸ” [NLP] Conversation history has 6 messages[GOODBYE CHECK] No goodbye phrase: '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ...'
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['preferred_time', 'name']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['preferred_time', 'name'] | Collected: []
prosaas-backend  | [SAFETY] Transcription successful (total failures: 0)
prosaas-backend  | ğŸ” [NLP] Last 3 messages: [{'speaker': 'user', 'text': '×”×•× ×™×›×•×œ.', 'ts': 1765125919.7854397}, {'speaker': 'ai', 'text': '×œ××™×–×” ×ª××¨×™×š ×ª×¨×¦×” ×œ×§×‘×•×¢?', 'ts': 1765125919.7903104}, {'speaker': 'user', 'text': '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.', 'ts': 1765125932.7299547}]
prosaas-backend  | 
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=df cd cf dd da
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=120, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=be 7b 3d 2f 2b
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ” [NLP] â—€ï¸ NLP result: {'action': 'none', 'date': 'null', 'time': 'null', 'name': 'null', 'phone': 'null', 'confidence': 0.0}
prosaas-backend  | ğŸ“­ [NLP] No appointment action detected (action=none)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | [TX] fps=50 q=849/1500
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 7468 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ××¡×¤×¨×ª ×”×’×œ×‘×•×¢ ×§×™×™××ª ×›×‘×¨ ×›××¢×˜ 15 ×©× ×” ×•××•×›×¨×ª ×‘×–×›×•×ª ×”×™×—×¡ ×”××™×©×™, ×¨××ª ×”××§×¦×•×¢×™×•×ª ×•×”××•×•×™×¨×” ×”×‘×™×ª×™×ª. ××¦×œ× ×• ×¢×•×‘×“×™× ×©×œ×•×©×” ×¡×¤×¨×™× ×× ×•×¡×™×: ×“× ×™, ××œ×™×¨×Ÿ ×•×¨×•×¢×™. ×”××—×™×¨ ×œ×ª×¡×¤×•×¨×ª ×”×•× 60 ×©×´×—, ×•×ª×¡×¤×•×¨×ª ×¢× ×–×§×Ÿ ×¢×•×œ×” 80 ×©×´×—. ×× ×—× ×• ××ª××§×“×™× ×‘×¢×‘×•×“×ª ××™×›×•×ª ×•×‘×”×ª×××ª ×”×¡×’× ×•×Ÿ ×œ×›×œ ×œ×§×•×—. ××™×š ××¤×©×¨ ×œ×¢×–×•×¨ ×œ×š?
prosaas-backend  | ğŸ’° [COST] AI utterance: 2.37s (113 chunks)
prosaas-backend  | [GOODBYE CHECK] Skipping greeting: '××¡×¤×¨×ª ×”×’×œ×‘×•×¢ ×§×™×™××ª ×›×‘×¨ ×›××¢×˜ 15...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (10ms, frames=0)
prosaas-backend  | [TX] fps=51 q=995/1500
prosaas-backend  | ğŸ¤ END OF UTTERANCE: 8.9s audio, conversation #3
prosaas-backend  | ğŸ§  STATE -> PROCESSING | len=141760 | silence_ms=3201
prosaas-backend  | â­ï¸ [REALTIME] Skipping Google STT/TTS - using Realtime API only
prosaas-backend  | âœ… Processing complete for conversation #3
prosaas-backend  | [PIPELINE STATUS] sent=851 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | [TX] fps=50 q=945/1500
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [TX] fps=51 q=894/1500
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [TX] fps=51 q=843/1500
prosaas-backend  | [PIPELINE STATUS] sent=1001 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ’“ WS_KEEPALIVE #3 (prevents 5min timeout)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [TX] fps=50 q=793/1500
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=1149 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=1297 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ”‡ [SILENCE] Warning 1/2 after 15.2s silence
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['city', 'service_type']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['service_type'] | Collected: ['city=×¦×¤×” ×¨××•×Ÿ']
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (SILENCE_HANDLER:[SYSTEM] ×”×œ×§×•×— ×©×•×ª×§. ×”××©×š ××ª ×”)
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBFw7cSWWKokQ...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBFw7cSWWKokQ... status=in_progress modalities=['text', 'audio'] output_format=g711_ulaw
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=ff 79 fb f8 76
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=6b 3d 41 3b 35
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=fe fd fd fc fb
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 7468 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×”×× ××ª×” ×¢×“×™×™×Ÿ ××™×ª× ×•? ××©××— ×œ×“×¢×ª ×‘××™×–×• ×¢×™×¨ ××ª×” ×¦×¨×™×š ××ª ×©×™×¨×•×ª ×”×—×œ×¤×ª ×”×¦×™×œ×™× ×“×¨. ×ª×•×“×” ×¨×‘×”.
prosaas-backend  | âš ï¸ [LOOP DETECT] AI repeating! Similarity=81% with: '×”×× ××ª×” ×©×? ××©××— ×œ×“×¢×ª ×‘××™×–×• ×¢×™×¨ ××ª×” ×¦×¨×™×š ××ª ×©×™×¨×•×ª ...'
prosaas-backend  | ğŸ“¢ [BUILD 311] SILENCE_HANDLER response - NOT counting towards consecutive
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.94s (1387 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×”×× ××ª×” ×¢×“×™×™×Ÿ ××™×ª× ×•? ××©××— ×œ×“×¢×ª...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=1447 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’“ WS_KEEPALIVE #4 (prevents 5min timeout)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=1597 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ” AUTH DEBUG: user_id=10, role=owner, business_id=10, computed_tenant=10, impersonating=False
prosaas-backend  | ğŸ”” /api/notifications - tenant_id=10, g.tenant=10
prosaas-backend  | ğŸ”” Querying reminders for tenant_id=10, is_system_admin=False
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=1746 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ”” Found 0 reminders
prosaas-backend  | INFO:     172.18.0.5:40066 - "GET /api/notifications HTTP/1.1" 200 OK
prosaas-backend  | INFO:     172.18.0.5:40074 - "GET /api/notifications HTTP/1.1" 401 Unauthorized
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ”‡ [SILENCE] Warning 1/2 after 20.1s silence
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['preferred_time', 'name']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['preferred_time', 'name'] | Collected: []
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (SILENCE_HANDLER:[SYSTEM] ×”×œ×§×•×— ×©×•×ª×§. ×”××©×š ××ª ×”)
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBPc8IKFIhmHp...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBPc8IKFIhmHp... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=f7 f5 f6 f0 ef
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=8, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=c9 c8 cd cb c9
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=43 2e 3d 45 38
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 6400 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×”×× ×™×© ×œ×š ×ª××¨×™×š ××•×¢×“×£ ×©×‘×• ×ª×¨×¦×” ×œ×§×‘×•×¢ ×ª×•×¨?
prosaas-backend  | ğŸ“¢ [BUILD 311] SILENCE_HANDLER response - NOT counting towards consecutive
prosaas-backend  | â­ï¸ [LOOP GUARD] Skipped - appointment flow (has_appointment=None, is_scheduling=True)
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.35s (125 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×”×× ×™×© ×œ×š ×ª××¨×™×š ××•×¢×“×£ ×©×‘×• ×ª×¨×¦×”...'
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (1ms, frames=0)
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | [PIPELINE STATUS] sent=1843 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | INFO:     127.0.0.1:34898 - "GET /health HTTP/1.1" 200 OK
prosaas-backend  | ğŸ’“ WS_KEEPALIVE #5 (prevents 5min timeout)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=1387.0 > threshold=73.2
prosaas-backend  | [PIPELINE STATUS] sent=1992 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | [REALTIME] event: input_audio_buffer.speech_started
prosaas-backend  | ğŸ¤ [REALTIME] User started speaking - setting user_has_spoken=True
prosaas-backend  | âœ… [LOOP GUARD] User started speaking - resetting consecutive counter (1 -> 0)
prosaas-backend  | ğŸ¤ [BUILD 166] Noise gate BYPASSED - sending ALL audio to OpenAI
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=4054, voice_frames=0
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=2777, voice_frames=0
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=6390, voice_frames=0
prosaas-backend  | ğŸ™ï¸ REAL_VOICE: rms=715.0 > threshold=73.2
prosaas-backend  | [PIPELINE STATUS] sent=2143 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ”‡ [SILENCE] Warning 1/2 after 16.3s silence
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['city', 'service_type']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['service_type'] | Collected: ['city=×¦×¤×” ×¨××•×Ÿ']
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (SILENCE_HANDLER:[SYSTEM] ×”×œ×§×•×— ×©×•×ª×§. ×”××©×š ××ª ×”)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=14, voice_frames=0
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBX873R4RrjfQ...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBX873R4RrjfQ... status=in_progress modalities=['text', 'audio'] output_format=g711_ulaw
prosaas-backend  | [REALTIME] event: input_audio_buffer.speech_stopped
prosaas-backend  | ğŸ¤ [BUILD 166] Speech ended - noise gate RE-ENABLED
prosaas-backend  | [REALTIME] event: input_audio_buffer.committed
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBYrMUWJmnb0R...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBYrMUWJmnb0R... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=7d 77 f9 f9 6f
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=e9 3c 44 3c 34
prosaas-backend  | [REALTIME] event: conversation.item.input_audio_transcription.completed
prosaas-backend  | [STT_RAW] '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×.' (len=46)
prosaas-backend  | [SILENCE GATE] âœ… TRUSTED (OpenAI heard '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”...' despite low RMS=28)
prosaas-backend  | âœ… [SIMPLE_MODE] Bypassing all filters - accepting: '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×.'
prosaas-backend  | ğŸ“ [SEGMENT MERGE] FLUSH - long pause (31954ms)
prosaas-backend  | [STT_FINAL] '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×.' (from raw: '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”...')
prosaas-backend  | ğŸ’° [COST] User utterance: 28.76s (2222 chunks total)
prosaas-backend  | ğŸ‘¤ [REALTIME] User said: ×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×.
prosaas-backend  | â„¹ï¸ [BUILD 310] Incidental '×œ×' in '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”' - NOT resetting verification
prosaas-backend  | ğŸ” [DEBUG] Calling NLP after user transcript: '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×....'
prosaas-backend  | ğŸ” [DEBUG] _check_appointment_confirmation called with transcript: '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×....'
prosaas-backend  | ğŸ” [DEBUG] Conversation history length: 9
prosaas-backend  | ğŸ” [DEBUG] User messages for hash: ['×ª×—×§×™×¨.', '×”×•× ×™×›×•×œ.', '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.', '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×.']
prosaas-backend  | ğŸ” [DEBUG] Current conversation hash: 12408fd1...
prosaas-backend  | ğŸ” [DEBUG] Hash changed (212e9a74 â†’ 12408fd1) - processing
prosaas-backend  | ğŸ” [NLP] âœ… WILL PROCESS new conversation state (hash=12408fd1...)
prosaas-backend  | ğŸ” [DEBUG] CRM context exists: False
prosaas-backend  | ğŸ” [NLP] â–¶ï¸ Analyzing conversation for appointment intent...
prosaas-backend  | ğŸ” [NLP] Conversation history has 9 messages
prosaas-backend  | ğŸ” [NLP] Last 3 messages: [{'speaker': 'ai', 'text': '××¡×¤×¨×ª ×”×’×œ×‘×•×¢ ×§×™×™××ª ×›×‘×¨ ×›××¢×˜ 15 ×©× ×” ×•××•×›×¨×ª ×‘×–×›×•×ª ×”×™×—×¡ ×”××™×©×™, ×¨××ª ×”××§×¦×•×¢×™×•×ª ×•×”××•×•×™×¨×” ×”×‘×™×ª×™×ª. ××¦×œ× ×• ×¢×•×‘×“×™× ×©×œ×•×©×” ×¡×¤×¨×™× ×× ×•×¡×™×: ×“× ×™, ××œ×™×¨×Ÿ ×•×¨×•×¢×™. ×”××—×™×¨ ×œ×ª×¡×¤×•×¨×ª ×”×•× 60 ×©×´×—, ×•×ª×¡×¤×•×¨×ª ×¢× ×–×§×Ÿ ×¢×•×œ×” 80 ×©×´×—. ×× ×—× ×• ××ª××§×“×™× ×‘×¢×‘×•×“×ª ××™×›×•×ª ×•×‘×”×ª×××ª ×”×¡×’× ×•×Ÿ ×œ×›×œ ×œ×§×•×—. ××™×š ××¤×©×¨ ×œ×¢×–×•×¨ ×œ×š?', 'ts': 1765125935.1027036}, {'speaker': 'ai', 'text': '×”×× ×™×© ×œ×š ×ª××¨×™×š ××•×¢×“×£ ×©×‘×• ×ª×¨×¦×” ×œ×§×‘×•×¢ ×ª×•×¨?', 'ts': 1765125956.252786}, {'speaker': 'user', 'text': '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×.', 'ts': 1765125964.6840487}]
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”...'
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['preferred_time', 'name']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['preferred_time', 'name'] | Collected: []
prosaas-backend  | [SAFETY] Transcription successful (total failures: 0)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=7e 7e ff fc fa
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=12, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=7b 77 7d fb ff
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=16, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=c0 ae ad a8 aa
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=43 2f 2e 2c 26
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 6400 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×”×× ×”×ª××¨×™×š ×”×•× ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘? ×•×‘×©×¢×” ×©×ª×™×™×?
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.34s (136 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×”×× ×”×ª××¨×™×š ×”×•× ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (5ms, frames=0)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 6936 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×”×× ××ª×” ×©×? ×× ×ª×•×›×œ ×œ×©×ª×£ ××•×ª×™ ×‘××™×–×• ×¢×™×¨ ××ª×” ×¦×¨×™×š ××ª ×©×™×¨×•×ª ×”×—×œ×¤×ª ×”×¦×™×œ×™× ×“×¨, ×–×” ×™×¢×–×•×¨ ×œ×™ ×œ×¢×–×•×¨ ×œ×š. ×ª×•×“×” ×¨×‘×”.
prosaas-backend  | âš ï¸ [LOOP DETECT] AI repeating! Similarity=87% with: '×”×× ××ª×” ×¢×“×™×™×Ÿ ××™×ª× ×•? ×× ×ª×•×›×œ ×œ×©×ª×£ ××•×ª×™ ×‘××™×–×• ×¢×™×¨ ×...'
prosaas-backend  | ğŸ“¢ [BUILD 311] SILENCE_HANDLER response - NOT counting towards consecutive
prosaas-backend  | ğŸ’° [COST] AI utterance: 1.04s (1417 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×”×× ××ª×” ×©×? ×× ×ª×•×›×œ ×œ×©×ª×£ ××•×ª×™ ...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ¤ END OF UTTERANCE: 5.0s audio, conversation #4
prosaas-backend  | ğŸ§  STATE -> PROCESSING | len=80320 | silence_ms=2699
prosaas-backend  | â­ï¸ [REALTIME] Skipping Google STT/TTS - using Realtime API only
prosaas-backend  | âœ… Processing complete for conversation #4
prosaas-backend  | [PIPELINE STATUS] sent=2241 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [NLP] â—€ï¸ NLP result: {'action': 'confirm', 'date': '2025-12-13', 'time': '14:00', 'name': '××œ×™×¨×Ÿ', 'phone': 'null', 'confidence': 1.0}
prosaas-backend  | âœ… [LEAD STATE] Updated: name=××œ×™×¨×Ÿ
prosaas-backend  | ğŸ“‹ [LEAD STATE] Current state: {'name': '××œ×™×¨×Ÿ'}
prosaas-backend  | âœ… [NLP] Saved customer name to temporary cache: ××œ×™×¨×Ÿ
prosaas-backend  | ğŸ¯ [NLP] âœ… Detected action=confirm, date=2025-12-13, time=14:00, name=××œ×™×¨×Ÿ, confidence=1.0
prosaas-backend  | ğŸ” [DEBUG] No CRM context exists yet
prosaas-backend  | 
prosaas-backend  | ================================================================================
prosaas-backend  | ğŸ¯ [APPOINTMENT FLOW] ========== CONFIRM ACTION TRIGGERED ==========
prosaas-backend  | ================================================================================
prosaas-backend  | ğŸ“ [FLOW STEP 1] NLP returned: action=confirm, date=2025-12-13, time=14:00, name=××œ×™×¨×Ÿ
prosaas-backend  | ğŸ“ [FLOW STEP 1] confidence=1.0
prosaas-backend  | ğŸ“ [FLOW STEP 2] CRM context exists: False
prosaas-backend  | ğŸ“ [FLOW STEP 3] No pending_slot available
prosaas-backend  | ğŸ“ [FLOW STEP 4] Checking date/time: date=2025-12-13, time=14:00
prosaas-backend  | âœ… [FLOW STEP 4] OK - Date/time valid: 2025-12-13 14:00
prosaas-backend  | ğŸ“ [FLOW STEP 5] Checking customer info:
prosaas-backend  | ğŸ“ [FLOW STEP 5]   - phone: None
prosaas-backend  | ğŸ“ [FLOW STEP 5]   - name from NLP: ××œ×™×¨×Ÿ
prosaas-backend  | ğŸ“ [FLOW STEP 5.5] Business setting require_phone_before_booking: True
prosaas-backend  | ğŸ“ [FLOW STEP 6] Checking if all data is complete...
prosaas-backend  | âŒ [FLOW STEP 6] BLOCKED - Need phone (require_phone_before_booking=True)! Asking via DTMF
prosaas-backend  | ğŸ”‡ [SERVER_EVENT] Sent SILENTLY to AI: need_phone_dtmf - ×‘×§×© ××”×œ×§×•×— ×œ×”×§×œ×™×“ ××ª ××¡×¤×¨ ×”×˜×œ×¤×•×Ÿ ×©×œ×• ×¢×œ ×”××§×©×™× ×•×œ×¡×™×™× ×‘×¡×•×œ××™×ª (#).
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (SERVER_EVENT:need_phone_dtmf - ×‘×§×© ××”×œ×§×•×— ×œ)
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBaG0C01MenGz...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBaG0C01MenGz... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=e4 d5 5e f9 d7
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=8, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=f7 72 62 5b 56
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=3a 3b 3c 37 64
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 6400 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×›×“×™ ×œ×”××©×™×š, ×× × ×”×§×œ×“ ××ª ××¡×¤×¨ ×”×˜×œ×¤×•×Ÿ ×©×œ×š ×¢×œ ×”××§×©×™× ×•×¡×™×™× ×‘×¡×•×œ××™×ª (#).
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.52s (154 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×›×“×™ ×œ×”××©×™×š, ×× × ×”×§×œ×“ ××ª ××¡×¤×¨ ×”...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (5ms, frames=0)
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | [PIPELINE STATUS] sent=2326 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ’“ WS_KEEPALIVE #6 (prevents 5min timeout)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=2474 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ“ DTMF pressed: 0 (buffer=)
prosaas-backend  | ğŸ“ DTMF buffer: 0
prosaas-backend  | ğŸ“ DTMF pressed: 5 (buffer=0)
prosaas-backend  | ğŸ“ DTMF buffer: 05
prosaas-backend  | ğŸ“ DTMF pressed: 0 (buffer=05)
prosaas-backend  | ğŸ“ DTMF buffer: 050
prosaas-backend  | ğŸ“ DTMF pressed: 4 (buffer=050)
prosaas-backend  | ğŸ“ DTMF buffer: 0504
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | [PIPELINE STATUS] sent=2594 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ“ DTMF pressed: 2 (buffer=0504)
prosaas-backend  | ğŸ“ DTMF buffer: 05042
prosaas-backend  | ğŸ“ DTMF pressed: 9 (buffer=05042)
prosaas-backend  | ğŸ“ DTMF buffer: 050429
prosaas-backend  | ğŸ“ DTMF pressed: 4 (buffer=050429)
prosaas-backend  | ğŸ“ DTMF buffer: 0504294
prosaas-backend  | ğŸ“ DTMF pressed: 7 (buffer=0504294)
prosaas-backend  | ğŸ“ DTMF buffer: 05042947
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ“ DTMF pressed: 2 (buffer=05042947)
prosaas-backend  | ğŸ“ DTMF buffer: 050429472
prosaas-backend  | ğŸ“ DTMF pressed: 4 (buffer=050429472)
prosaas-backend  | ğŸ“ DTMF buffer: 0504294724
prosaas-backend  | âœ… DTMF auto-submit (10 digits): 0504294724
prosaas-backend  | ğŸ“ Processing DTMF phone: 0504294724
prosaas-backend  | âœ… Phone normalized: 0504294724 â†’ +972504294724
prosaas-backend  | âœ… [LEAD STATE] Updated: phone=+972504294724
prosaas-backend  | ğŸ“‹ [LEAD STATE] Current state: {'name': '××œ×™×¨×Ÿ', 'phone': '+972504294724'}
prosaas-backend  | âœ… Stored customer_phone_dtmf: +972504294724
prosaas-backend  | âš ï¸ No crm_context found - creating one
prosaas-backend  | âœ… [DTMF] Hydrated pending_customer_name â†’ crm_context: ××œ×™×¨×Ÿ
prosaas-backend  | âœ… Created crm_context with phone: +972504294724
prosaas-backend  | ğŸš€ [REALTIME] Sending DTMF phone as SYSTEM event: +972504294724
prosaas-backend  | ğŸ”„ [DTMF] Triggering NLP with phone=+972504294724
prosaas-backend  | ğŸ” [DEBUG] Calling NLP after DTMF - conversation has 12 messages
prosaas-backend  | ğŸ” [DEBUG] _check_appointment_confirmation called with transcript: 'EMPTY...'
prosaas-backend  | ğŸ” [DEBUG] Conversation history length: 12
prosaas-backend  | ğŸ” [DEBUG] User messages for hash: ['×”×•× ×™×›×•×œ.', '×× ×™ ×¦×¨×™×š ×‘×‘×§×©×” ×§×•×“× ×œ×©××•×¢ ×§×¦×ª ×¢×œ×™×›×. ×¡×¤×¨×™ ×œ×™ ×¢×œ ×”××¡×¤×¨×”, ×¡×¤×¨×™.', '×”×‘×˜×™×§ ×•××œ×™ ×œ××œ×™×¨×Ÿ ×œ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘ ×‘×©×¢×” ×©×ª×™×™×.', '[DTMF keys pressed: +972504294724]']
prosaas-backend  | ğŸ” [DEBUG] Current conversation hash: 191f953b...
prosaas-backend  | ğŸ” [DEBUG] Hash changed (12408fd1 â†’ 191f953b) - processing
prosaas-backend  | ğŸ” [NLP] âœ… WILL PROCESS new conversation state (hash=191f953b...)
prosaas-backend  | ğŸ” [DEBUG] CRM context exists: True
prosaas-backend  | ğŸ” [DEBUG] CRM data - name: '××œ×™×¨×Ÿ', phone: '+972504294724'
prosaas-backend  | ğŸ” [NLP] â–¶ï¸ Analyzing conversation for appointment intent...ğŸ”‡ [SERVER_EVENT] Sent SILENTLY to AI: ğŸ“ ×”×œ×§×•×— ×”×§×œ×™×“ ××¡×¤×¨ ×˜×œ×¤×•×Ÿ ×‘-DTMF: +972504294724. ×©××•×¨ ××ª ×”××¡×¤×¨ ×•×ª××©×¨ ×œ×œ×§×•×— ×©×§×™×‘×œ×ª ××•×ª×•.
prosaas-backend  | 
prosaas-backend  | ğŸ” [NLP] Conversation history has 12 messages
prosaas-backend  | ğŸ” [NLP] Last 3 messages: [{'speaker': 'ai', 'text': '×”×× ×”×ª××¨×™×š ×”×•× ×™×•× ×¨×‘×™×¢×™ ×”×§×¨×•×‘? ×•×‘×©×¢×” ×©×ª×™×™×?', 'ts': 1765125965.369027}, {'speaker': 'ai', 'text': '×›×“×™ ×œ×”××©×™×š, ×× × ×”×§×œ×“ ××ª ××¡×¤×¨ ×”×˜×œ×¤×•×Ÿ ×©×œ×š ×¢×œ ×”××§×©×™× ×•×¡×™×™× ×‘×¡×•×œ××™×ª (#).', 'ts': 1765125967.6951184}, {'speaker': 'user', 'text': '[DTMF keys pressed: +972504294724]', 'ts': 1765125977.1297228}]
prosaas-backend  | âœ… DTMF phone processed: +972504294724
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (SERVER_EVENT:ğŸ“ ×”×œ×§×•×— ×”×§×œ×™×“ ××¡×¤×¨ ×˜×œ×¤×•×Ÿ ×‘-DTM)
prosaas-backend  | âœ… [REALTIME] DTMF phone sent as system event
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBlFhomaHGWU7...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBlFhomaHGWU7... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | ğŸ“ DTMF pressed: # (buffer=)
prosaas-backend  | â­ï¸ DTMF skip: empty buffer, user skipped phone input
prosaas-backend  | ğŸ¯ DTMF skip -> AI: '×× ×™ ××“×œ×’ ×¢×œ ××ª×Ÿ ×”××¡×¤×¨'
prosaas-backend  | â­ï¸ Processing DTMF skip
prosaas-backend  | ğŸš€ [REALTIME] Sending DTMF skip via Realtime API
prosaas-backend  | âœ… [REALTIME] DTMF skip queued for Realtime API
prosaas-backend  | âœ… DTMF skip processed
prosaas-backend  | ğŸ“ [REALTIME] Sending user message (attempt 1/3): '×× ×™ ××¢×“×™×£ ×œ× ×œ×ª×ª ××ª ×”××¡×¤×¨...'
prosaas-backend  | âœ… [REALTIME] User message sent successfully
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | âŒ [REALTIME] ERROR: {'type': 'invalid_request_error', 'code': 'conversation_already_has_active_response', 'message': 'Conversation already has an active response in progress: resp_CkCBlFhomaHGWU7LJ9JT4. Wait until the response is finished before creating a new one.', 'param': None, 'event_id': None}
prosaas-backend  | [REALTIME] event: error
prosaas-backend  | âŒ [REALTIME] Error event: Conversation already has an active response in progress: resp_CkCBlFhomaHGWU7LJ9JT4. Wait until the response is finished before creating a new one.
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=14, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=fa f6 fc fd f9
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=e3 dd e3 e7 eb
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=19, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=4e 67 51 5b a7
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 5868 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×§×™×‘×œ×ª×™ ××ª ××¡×¤×¨ ×”×˜×œ×¤×•×Ÿ ×©×œ×š, ×ª×•×“×”. ×¢×›×©×™×• ×× ×™ ××‘×“×•×§ ××ª ×–××™× ×•×ª ×”×ª×•×¨ ×¢× ××œ×™×¨×Ÿ ×‘×™×•× ×¨×‘×™×¢×™ ×‘×©×¢×” ×©×ª×™×™×. ×©× ×™×™×” ××—×ª.
prosaas-backend  | â­ï¸ [LOOP GUARD] Skipped - appointment flow (has_appointment=False, is_scheduling=True)
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.81s (183 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×§×™×‘×œ×ª×™ ××ª ××¡×¤×¨ ×”×˜×œ×¤×•×Ÿ ×©×œ×š, ×ª×•×“...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (7ms, frames=0)
prosaas-backend  | ğŸ” [NLP] â—€ï¸ NLP result: {'action': 'confirm', 'date': '2025-12-10', 'time': '14:00', 'name': None, 'phone': '+972504294724', 'confidence': 1.0}
prosaas-backend  | ğŸ”„ [NLP] Retrieved customer name from crm_context: ××œ×™×¨×Ÿ
prosaas-backend  | ğŸ¯ [NLP] âœ… Detected action=confirm, date=2025-12-10, time=14:00, name=××œ×™×¨×Ÿ, confidence=1.0
prosaas-backend  | ğŸ” [DEBUG] CRM context - name: '××œ×™×¨×Ÿ', phone: '+972504294724'
prosaas-backend  | ğŸ’¾ [NLP] Saved date to pending_slot: 2025-12-10
prosaas-backend  | ğŸ’¾ [NLP] Saved time to pending_slot: 14:00
prosaas-backend  | 
prosaas-backend  | ================================================================================
prosaas-backend  | ğŸ¯ [APPOINTMENT FLOW] ========== CONFIRM ACTION TRIGGERED ==========
prosaas-backend  | ================================================================================
prosaas-backend  | ğŸ“ [FLOW STEP 1] NLP returned: action=confirm, date=2025-12-10, time=14:00, name=××œ×™×¨×Ÿ
prosaas-backend  | ğŸ“ [FLOW STEP 1] confidence=1.0
prosaas-backend  | ğŸ“ [FLOW STEP 2] CRM context exists: True
prosaas-backend  | ğŸ“ [FLOW STEP 3] pending_slot found: {'date': '2025-12-10', 'time': '14:00'}
prosaas-backend  | ğŸ“ [FLOW STEP 4] Checking date/time: date=2025-12-10, time=14:00
prosaas-backend  | âœ… [FLOW STEP 4] OK - Date/time valid: 2025-12-10 14:00
prosaas-backend  | ğŸ“ [FLOW STEP 5] Phone from crm_context: +972504294724
prosaas-backend  | ğŸ“ [FLOW STEP 5] Checking customer info:
prosaas-backend  | ğŸ“ [FLOW STEP 5]   - phone: +972504294724
prosaas-backend  | ğŸ“ [FLOW STEP 5]   - name from NLP: ××œ×™×¨×Ÿ
prosaas-backend  | ğŸ“ [FLOW STEP 5.5] Business setting require_phone_before_booking: True
prosaas-backend  | ğŸ“ [FLOW STEP 6] Checking if all data is complete...
prosaas-backend  | 
prosaas-backend  | âœ… [FLOW STEP 6] ALL DATA COMPLETE!
prosaas-backend  | âœ… [FLOW STEP 6]   - name: ××œ×™×¨×Ÿ
prosaas-backend  | âœ… [FLOW STEP 6]   - phone: +972504294724
prosaas-backend  | âœ… [FLOW STEP 6]   - date: 2025-12-10
prosaas-backend  | âœ… [FLOW STEP 6]   - time: 14:00
prosaas-backend  | ğŸ›¡ï¸ [GUARD] Set appointment_confirmed_in_session=True EARLY to prevent re-entry
prosaas-backend  | ğŸ“ [FLOW STEP 7] Calculated times:
prosaas-backend  | ğŸ“ [FLOW STEP 7]   - start_dt: 2025-12-10T14:00:00+02:00
prosaas-backend  | ğŸ“ [FLOW STEP 7]   - duration: 60 minutes (from DB policy)
prosaas-backend  | ğŸ“ [FLOW STEP 7]   - end_dt: 2025-12-10T15:00:00+02:00
prosaas-backend  | ğŸ“ [FLOW STEP 8] Validating slot availability...
prosaas-backend  | ğŸ” [VALIDATION] Timezone-aware input converted to Asia/Jerusalem: 2025-12-10 14:00:00+02:00
prosaas-backend  | âœ… [VALIDATION] Booking window check passed (30 days)
prosaas-backend  | âœ… [VALIDATION] Slot 14:00:00 within business hours
prosaas-backend  | ğŸ” [VALIDATION] Checking calendar: 2025-12-10 14:00 - 15:00 (slot_size=60min)
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.function_call_arguments.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.function_call_arguments.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.function_call_arguments.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.function_call_arguments.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.function_call_arguments.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.function_call_arguments.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.function_call_arguments.done
prosaas-backend  | ğŸ”§ [BUILD 313] Function call received!
prosaas-backend  | ğŸ”§ [BUILD 313] Function call: save_lead_info, call_id=call_tHmChO3iqIRnNRY...
prosaas-backend  | ğŸ“ [BUILD 313] Lead info from AI: {'name': '×œ×§×•×—'}
prosaas-backend  | âœ… [LEAD STATE] Updated: name=×œ×§×•×—
prosaas-backend  | ğŸ“‹ [LEAD STATE] Current state: {'name': '×œ×§×•×—', 'phone': '+972504294724'}
prosaas-backend  | âœ… [BUILD 313] Saved name = '×œ×§×•×—'
prosaas-backend  | ğŸ“‹ [BUILD 313] Still missing fields: {'preferred_time'}
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=2, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  |    output[1]: type=function_call, content_types=[]
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBnNNJQPI7cAw...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBnNNJQPI7cAw... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | âœ… [VALIDATION] Calendar available - no conflicts
prosaas-backend  | ğŸ“ [FLOW STEP 8] Slot validation result: True
prosaas-backend  | âœ… [FLOW STEP 8] OK - Slot is available!
prosaas-backend  | ğŸ“ [FLOW STEP 9] Checking for duplicate appointments...
prosaas-backend  | ğŸ“ [FLOW STEP 9]   - appt_hash: 2025-12-10T14:00:00+02:00
prosaas-backend  | ğŸ“ [FLOW STEP 9]   - call_sid: CA74011cf4760643e5dd9be93691dc9b2a
prosaas-backend  | ğŸ’“ WS_KEEPALIVE #7 (prevents 5min timeout)
prosaas-backend  | [PIPELINE STATUS] sent=2681 blocked=0 | active_response=resp_CkCBnNNJQP... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=7d 7b 7c 7c 7d
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=8, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=3e 30 2f 31 30
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=21 12 44 99 9e
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ“ [FLOW STEP 9]   - call_session exists: False
prosaas-backend  | âœ… [FLOW STEP 9] OK - No duplicate found
prosaas-backend  | 
prosaas-backend  | ğŸš€ [FLOW STEP 10] ========== CREATING APPOINTMENT IN DATABASE ==========
prosaas-backend  | ğŸš€ [FLOW STEP 10] Parameters:
prosaas-backend  | ğŸš€ [FLOW STEP 10]   - business_id: 1
prosaas-backend  | ğŸš€ [FLOW STEP 10]   - customer_name: ××œ×™×¨×Ÿ
prosaas-backend  | ğŸš€ [FLOW STEP 10]   - customer_phone: +972504294724
prosaas-backend  | ğŸš€ [FLOW STEP 10]   - start_iso: 2025-12-10T14:00:00+02:00
prosaas-backend  | ğŸš€ [FLOW STEP 10]   - end_iso: 2025-12-10T15:00:00+02:00
prosaas-backend  | 
prosaas-backend  | ğŸ”§ [CREATE_APPT] ========== create_appointment_from_realtime called ==========
prosaas-backend  | ğŸ”§ [CREATE_APPT] Input parameters:
prosaas-backend  | ğŸ”§ [CREATE_APPT]   - business_id: 1
prosaas-backend  | ğŸ”§ [CREATE_APPT]   - customer_name: ××œ×™×¨×Ÿ
prosaas-backend  | ğŸ”§ [CREATE_APPT]   - customer_phone: +972504294724
prosaas-backend  | ğŸ”§ [CREATE_APPT]   - treatment_type: ×¤×’×™×©×”
prosaas-backend  | ğŸ”§ [CREATE_APPT]   - start_iso: 2025-12-10T14:00:00+02:00
prosaas-backend  | ğŸ”§ [CREATE_APPT]   - end_iso: 2025-12-10T15:00:00+02:00
prosaas-backend  | ğŸ”§ [CREATE_APPT]   - notes: × ×§×‘×¢ ×‘×©×™×—×” ×˜×œ×¤×•× ×™×ª
prosaas-backend  | ğŸ”§ [CREATE_APPT] Creating CreateAppointmentInput...
prosaas-backend  | ğŸ”§ [CREATE_APPT] Input created successfully, calling _calendar_create_appointment_impl...
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 7468 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ××™×Ÿ ×‘×¢×™×”, ×©××¨×ª×™ ××ª ×”×¤×¨×˜×™× ×©×œ×š. ×× ×™ ×××©×™×š ×œ×‘×“×•×§ ××ª ×–××™× ×•×ª ×”×ª×•×¨ ×¢× ××œ×™×¨×Ÿ ×‘×™×•× ×¨×‘×™×¢×™ ×‘×©×¢×” ×©×ª×™×™×. ×©× ×™×™×” ××—×ª.
prosaas-backend  | â­ï¸ [LOOP GUARD] Skipped - appointment flow (has_appointment=False, is_scheduling=True)
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.96s (211 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '××™×Ÿ ×‘×¢×™×”, ×©××¨×ª×™ ××ª ×”×¤×¨×˜×™× ×©×œ×š....'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking - echo decay (9ms, frames=0)
prosaas-backend  |    ğŸ”¥ TIMEZONE FIX:
prosaas-backend  |       Before: start=2025-12-10 14:00:00+02:00 (with timezone)
prosaas-backend  |       After: start=2025-12-10 14:00:00 (naive, local Israel time)
prosaas-backend  |       This ensures 14:00 Israel time saves as 14:00 in DB (not 12:00 UTC!)
prosaas-backend  | 
prosaas-backend  | ğŸ”¥ğŸ”¥ğŸ”¥ CREATING APPOINTMENT IN DATABASE ğŸ”¥ğŸ”¥ğŸ”¥
prosaas-backend  |    business_id: 1
prosaas-backend  |    customer_name: ××œ×™×¨×Ÿ
prosaas-backend  |    phone: +972504294724
prosaas-backend  |    treatment_type: ×¤×’×™×©×”
prosaas-backend  |    start_time: 2025-12-10 14:00:00
prosaas-backend  |    end_time: 2025-12-10 15:00:00
prosaas-backend  |    Appointment object created: <Appointment (transient 134856908649936)>
prosaas-backend  |    Added to session
prosaas-backend  | ğŸ”‡ [SILENCE] Warning 1/2 after 16.1s silence
prosaas-backend  | ğŸ” [DEBUG] _check_lead_captured: required_fields from self = ['city', 'service_type']
prosaas-backend  | â³ [SMART HANGUP] Still missing fields: ['service_type'] | Collected: ['city=×¦×¤×” ×¨××•×Ÿ']
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (SILENCE_HANDLER:[SYSTEM] ×”×œ×§×•×— ×©×•×ª×§. ×”××©×š ××ª ×”)
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBp6ufryX2ian...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBp6ufryX2ian... status=in_progress modalities=['text', 'audio'] output_format=g711_ulaw
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=7c 78 77 77 76
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=3a 2e 2f 2e 2f
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=c6 cc ee 5d 42
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  |    âœ…âœ…âœ… COMMITTED TO DATABASE! Appointment ID: 11
prosaas-backend  |    ğŸ” VERIFICATION: Checking DB (driver=postgresql)...
prosaas-backend  |    âœ… VERIFIED: Appointment #11 exists in DB!
prosaas-backend  |    âœ… VERIFIED: title=×¤×’×™×©×” - ××œ×™×¨×Ÿ, status=confirmed
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  |    ğŸ“Š Total appointments for business 1: 8
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | [PIPELINE STATUS] sent=2743 blocked=0 | active_response=None... | ai_speaking=False | barge_in=False
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 6936 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.done
prosaas-backend  | ğŸ”‡ [REALTIME] AI stopped speaking (response.audio.done)
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.done
prosaas-backend  | ğŸ¤– [REALTIME] AI said: ×× ×™ ×¨×•××” ×©××ª×” ×©×•×ª×§. ×× ×ª×•×›×œ ×œ×©×ª×£ ××•×ª×™ ×‘××™×–×• ×¢×™×¨ ××ª×” ×¦×¨×™×š ××ª ×©×™×¨×•×ª ×”×—×œ×¤×ª ×”×¦×™×œ×™× ×“×¨, ×× ×™ ×›××Ÿ ×œ×¢×–×•×¨. ×ª×•×“×”.
prosaas-backend  | ğŸ“¢ [BUILD 311] SILENCE_HANDLER response - NOT counting towards consecutive
prosaas-backend  | ğŸ’° [COST] AI utterance: 0.87s (1442 chunks)
prosaas-backend  | [GOODBYE CHECK] No goodbye phrase: '×× ×™ ×¨×•××” ×©××ª×” ×©×•×ª×§. ×× ×ª×•×›×œ ×œ×©...'
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.done
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.done
prosaas-backend  | ğŸ”¥ [BUILD 171] AI finished speaking - cooldown started (800ms)
prosaas-backend  | â³ [AUDIO] 1000 frames still in queue - letting them play (NO TRUNCATION)
prosaas-backend  | ğŸ”Š [REALTIME] response.done: status=completed, output_count=1, details=None
prosaas-backend  |    output[0]: type=message, content_types=['audio']
prosaas-backend  | [REALTIME] event: rate_limits.updated
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ”§ [CREATE_APPT] _calendar_create_appointment_impl returned: <class 'server.agent_tools.tools_calendar.CreateAppointmentOutput'>
prosaas-backend  | âœ… [CREATE_APPT] SUCCESS! Appointment #11 created
prosaas-backend  | âœ… [CREATE_APPT]   - status: confirmed
prosaas-backend  | âœ… [CREATE_APPT]   - whatsapp_status: skipped
prosaas-backend  | âœ… [CREATE_APPT]   - lead_id: 109
prosaas-backend  | âœ… [CREATE_APPT]   - message: ××¢×•×œ×”! ×§×‘×¢×ª×™ ×œ×š ×¤×’×™×©×” ×œ×™×•× ×¨×‘×™×¢×™ 10/12 ×‘×©×¢×” 14:00. × ×ª×¨××”! ğŸ˜Š
prosaas-backend  | ğŸš€ [FLOW STEP 10] create_appointment_from_realtime returned: {'ok': True, 'appointment_id': 11, 'status': 'confirmed', 'message': '××¢×•×œ×”! ×§×‘×¢×ª×™ ×œ×š ×¤×’×™×©×” ×œ×™×•× ×¨×‘×™×¢×™ 10/12 ×‘×©×¢×” 14:00. × ×ª×¨××”! ğŸ˜Š', 'whatsapp_status': 'skipped', 'lead_id': 109}
prosaas-backend  | 
prosaas-backend  | ================================================================================
prosaas-backend  | âœ…âœ…âœ… [FLOW STEP 11] APPOINTMENT CREATED SUCCESSFULLY! âœ…âœ…âœ…
prosaas-backend  | ================================================================================
prosaas-backend  | âœ… [FLOW STEP 11]   - appointment_id: 11
prosaas-backend  | âœ… [FLOW STEP 11]   - customer: ××œ×™×¨×Ÿ
prosaas-backend  | âœ… [FLOW STEP 11]   - phone: +972504294724
prosaas-backend  | âœ… [FLOW STEP 11]   - datetime: 2025-12-10 14:00
prosaas-backend  | ================================================================================
prosaas-backend  | 
prosaas-backend  | ğŸ”’ [GUARD] Set appointment_confirmed_in_session=True BEFORE AI event
prosaas-backend  | ğŸ”“ [GUARD] Appointment created - AI can now confirm to customer
prosaas-backend  | ğŸ§¹ [CONFIRM] Cleared pending_slot after successful creation
prosaas-backend  | ğŸ”‡ [SERVER_EVENT] Sent SILENTLY to AI: âœ… appointment_created: ××œ×™×¨×Ÿ, 2025-12-10, 14:00
prosaas-backend  | ğŸ”” [APPOINTMENT] appointment_created message sent to AI!
prosaas-backend  | ğŸ”” [APPOINTMENT] Message content: âœ… appointment_created: ××œ×™×¨×Ÿ, 2025-12-10, 14:00
prosaas-backend  | ğŸ¯ [BUILD 200] response.create triggered (APPOINTMENT:âœ… appointment_created: ××œ×™×¨×Ÿ, )
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.created: id=resp_CkCBsHBKtmBUe3T...
prosaas-backend  | ğŸ¯ [RESPONSE.CREATED] id=resp_CkCBsHBKtmBUe3T... status=in_progress modalities=['audio', 'text'] output_format=g711_ulaw
prosaas-backend  | ğŸ” [BARGE-IN DEBUG] is_ai_speaking=False, user_has_spoken=True, waiting_for_dtmf=False, rms=8, voice_frames=0
prosaas-backend  | ğŸ’° [FPS LIMIT] Throttling audio - 50 frames this second (max=50)
prosaas-backend  | ğŸ”Š [REALTIME] response.output_item.added
prosaas-backend  | [REALTIME] event: conversation.item.created
prosaas-backend  | ğŸ”Š [REALTIME] response.content_part.added
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1068 bytes
prosaas-backend  | ğŸ”Š [REALTIME] AI started speaking (audio.delta)
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#1, bytes=800, first5=55 4c 4e 4e 4f
prosaas-backend  | ğŸ›¡ï¸ [ECHO GATE] Blocking audio - AI speaking (rms=8, frames=0/5)
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 1600 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#2, bytes=1200, first5=b7 a5 ad af aa
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | [REALTIME] got audio chunk from OpenAI: chunk#3, bytes=2000, first5=d3 c4 3d 36 df
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio.delta: 2668 bytes
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript.delta
prosaas-backend  | ğŸ”Š [REALTIME] response.audio_transcript