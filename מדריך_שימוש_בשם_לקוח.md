# שימוש בשם לקוח בשיחה (Prompt-Driven)

## מבנה

המערכת מזהה את שם הלקוח מ-CRM context (שדה `customer_name`).
שימוש בשם נשלט **אך ורק** דרך הפרומפט העסקי.

## ברירת מחדל

אם לא כתוב בפרומפט העסקי הוראה להשתמש בשם:
- AI לא יזכיר את השם
- AI לא ישאל על השם

## הפעלת שימוש בשם

להוסיף בפרומפט העסקי:

```
אם יש שם לקוח בליד, פנה אליו בשמו פעם אחת בברכה בצורה טבעית.
```

## דוגמה - עם שימוש בשם

```
אתה נציג מהמרכז להחזרי מס.

אם יש שם לקוח, פנה אליו בשמו בברכה.

זרימה:
1. ברכה
2. שאל על שירות
3. קבל פרטים
4. סגירה
```

תוצאה:
- יש שם: "היי דני, מדבר מהמרכז..."
- אין שם: "היי, מדבר מהמרכז..."

## דוגמה - ללא שימוש בשם

```
אתה נציג משרברב.

זרימה:
1. ברכה
2. שאל על בעיה
3. קבע תור
```

תוצאה:
- "היי, מדבר משרברב מקצועי..."
(גם אם יש שם בליד)

## כללי ולידציה

השם מוזרק רק אם:
- קיים שדה `customer_name` ב-CRM context
- הערך אינו: `null`, `""`, `"unknown"`, `"test"`, `"-"`

אם השם לא תקין, AI ממשיך כרגיל בלי שם.
