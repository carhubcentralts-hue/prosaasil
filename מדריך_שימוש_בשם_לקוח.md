# שימוש בשם לקוח בשיחה (Natural Prompt-Driven)

## כלל־על

**השימוש בשם הלקוח נשלט אך ורק דרך הפרומפט העסקי.**

כאשר הפרומפט מבקש שימוש בשם:
- השם ישולב באופן טבעי, אנושי וחופשי
- בלי דפוסים קבועים או תבניות מוגדרות מראש
- בלי "מיקום" ספציפי (ברכה/אמצע/סוף)
- המודל מחליט לבד איך ומתי להשתמש בשם בצורה טבעית

כאשר הפרומפט לא מבקש שימוש בשם:
- אפס שימוש בשם, גם אם הוא קיים

## מבנה טכני

השם מזוהה מ-CRM context (שדה `customer_name`).
שימוש נשלט **אך ורק** דרך הפרומפט העסקי.

ההנחיה הבסיסית למודל:
- השתמש בשם רק אם הפרומפט מבקש שימוש בשם
- אם מתבקש שימוש בשם ויש שם זמין → השתמש בצורה טבעית לאורך השיחה
- שלב את השם באופן חופשי: בברכה, בהסברים, בסיכומים – בלי דפוס קבוע
- אל תאמר "שם הלקוח" או ניסוחים תיאוריים
- אל תשאל מה השם ואל תמציא שם
- אם אין שם זמין → המשך רגיל ללא אזכור שם

## דוגמה 1: ללא שימוש בשם (ברירת מחדל)

```
אתה נציג שירות מקצועי.
נהל את השיחה בצורה עניינית וברורה.
```

תוצאה:
- **לא יוזכר שם** (גם אם customer_name="דני" קיים)
- המודל לא יחליט לבד להשתמש בשם

## דוגמה 2: שימוש בשם טבעי (המלצה)

```
תשתמש בשם הלקוח כדי ליצור קרבה אישית.
```

תוצאה (אם customer_name="דני"):
- "היי דני, מה שלומך?"
- "רציתי להסביר לך רגע איך התהליך עובד, דני..."
- "בסוף אני גם שולח לך הודעה מסודרת, שיהיה לך נוח, בסדר?"

המודל משלב את השם בחופשיות בצורה אנושית, בלי חזרתיות או דפוס קבוע.

## דוגמה 3: שליטה ספציפית (אפשרית אבל לא מומלצת)

```
השתמש בשם הלקוח רק בברכה הראשונית.
```

תוצאה:
- "היי דני, מדבר מהמרכז..."
- אחר כך ממשיך בלי שם

## ולידציה

השם מוזרק רק אם:
- קיים שדה `customer_name` ב-CRM context
- הערך אינו: `null`, `""`, `"unknown"`, `"test"`, `"-"`

אם השם לא תקין, AI ממשיך בלי שם.

## עקרון מפתח

**המודל מבצע, לא מחליט.**

אין החלטות עצמאיות על שימוש בשם.
הכל תלוי בפרומפט העסקי בלבד.

אבל אם הפרומפט מבקש שימוש בשם – המודל חופשי לשלב אותו בצורה טבעית ואנושית לאורך השיחה, בלי תבניות או דפוסים קבועים.
