# שימוש בשם לקוח בשיחה (Strict Prompt-Driven)

## כלל־על

**אין שימוש בשם הלקוח בשום שלב של השיחה אלא אם כן הפרומפט העסקי מבקש זאת במפורש.**

אין:
- ברירת מחדל
- "נימוס"
- "כדאי"
- "פעם אחת בברכה"

**אפס שימוש — אלא אם נאמר אחרת בפרומפט העסקי.**

## מבנה טכני

השם מזוהה מ-CRM context (שדה `customer_name`).
שימוש נשלט **אך ורק** דרך הפרומפט העסקי.

## דוגמה 1: ללא שימוש בשם (ברירת מחדל)

```
אתה נציג שירות מקצועי.
נהל את השיחה בצורה עניינית וברורה.
```

תוצאה:
- **לא יוזכר שם** (גם אם customer_name="דני" קיים)
- לא בברכה
- לא באמצע
- לא בסיום

## דוגמה 2: עם שימוש בשם

```
אם קיים שם לקוח, פנה אליו בשמו בברכה הראשונית בלבד.
```

תוצאה:
- יש שם תקין → "היי דני, מדבר מהמרכז..."
- אין שם → "היי, מדבר מהמרכז..."

## דוגמה 3: שליטה מדויקת

```
השתמש בשם הלקוח רק לאחר שהשיחה התחילה, ולא בברכה.
השתמש בשם פעם אחת בלבד.
```

תוצאה:
- לא בברכה
- רק באמצע השיחה
- פעם אחת בלבד

## ולידציה

השם מוזרק רק אם:
- קיים שדה `customer_name` ב-CRM context
- הערך אינו: `null`, `""`, `"unknown"`, `"test"`, `"-"`

אם השם לא תקין, AI ממשיך בלי שם.

## עקרון מפתח

**המודל מבצע, לא מחליט.**

אין החלטות עצמאיות על שימוש בשם.
הכל תלוי בפרומפט העסקי בלבד.
